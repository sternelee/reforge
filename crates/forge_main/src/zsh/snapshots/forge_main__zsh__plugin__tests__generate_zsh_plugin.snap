---
source: crates/forge_main/src/zsh/plugin.rs
expression: output
---
function _forge_action_login() {
    echo
    local selected
    selected=$(_forge_select_provider)
    if [[ -n "$selected" ]]; then
        local provider=$(echo "$selected" | awk '{print $2}')
        _forge_exec provider login "$provider"
    fi
    _forge_reset
}
function _forge_action_logout() {
    echo
    local selected
    selected=$(_forge_select_provider "\[yes\]")
    if [[ -n "$selected" ]]; then
        local provider=$(echo "$selected" | awk '{print $2}')
        _forge_exec provider logout "$provider"
    fi
    _forge_reset
}
function _forge_action_agent() {
    local input_text="$1"
    echo
    if [[ -n "$input_text" ]]; then
        local agent_id="$input_text"
        local agent_exists=$($_FORGE_BIN list agents --porcelain 2>/dev/null | tail -n +2 | grep -q "^${agent_id}\b" && echo "true" || echo "false")
        if [[ "$agent_exists" == "false" ]]; then
            _forge_log error "Agent '\033[1m${agent_id}\033[0m' not found"
            _forge_reset
            return 0
        fi
        _FORGE_ACTIVE_AGENT="$agent_id"
        _forge_log success "Switched to agent \033[1m${agent_id}\033[0m"
        _forge_reset
        return 0
    fi
    local agents_output
    agents_output=$($_FORGE_BIN list agents --porcelain 2>/dev/null)
    if [[ -n "$agents_output" ]]; then
        local current_agent="$_FORGE_ACTIVE_AGENT"
        local sorted_agents="$agents_output"
        local prompt_text="Agent ❯ "
        local fzf_args=(
            --prompt="$prompt_text"
            --delimiter="$_FORGE_DELIMITER"
            --with-nth="1,2,4,5,6"
        )
        if [[ -n "$current_agent" ]]; then
            local index=$(_forge_find_index "$sorted_agents" "$current_agent")
            fzf_args+=(--bind="start:pos($index)")
        fi
        local selected_agent
        selected_agent=$(echo "$sorted_agents" | _forge_fzf --header-lines=1 "${fzf_args[@]}")
        if [[ -n "$selected_agent" ]]; then
            local agent_id=$(echo "$selected_agent" | awk '{print $1}')
            _FORGE_ACTIVE_AGENT="$agent_id"
            _forge_log success "Switched to agent \033[1m${agent_id}\033[0m"
        fi
    else
        _forge_log error "No agents found"
    fi
    _forge_reset
}
function _forge_action_provider() {
    echo
    local selected
    selected=$(_forge_select_provider "" "" "llm")
    if [[ -n "$selected" ]]; then
        local provider_id=$(echo "$selected" | awk '{print $2}')
        _forge_exec config set provider "$provider_id"
    fi
    _forge_reset
}
function _forge_action_model() {
    _forge_select_and_set_config "list models" "model" "Model" "$($_FORGE_BIN config get model --porcelain)" "2,3.."
    _forge_reset
}
function _forge_action_sync() {
    echo
    _forge_exec workspace sync
    _forge_reset
}
function _forge_select_and_set_config() {
    local show_command="$1"
    local config_flag="$2"
    local prompt_text="$3"
    local default_value="$4"
    local with_nth="${5:-}"  # Optional column selection parameter
    (
        echo
        local output
        if [[ "$show_command" == *" "* ]]; then
            local cmd_parts=(${=show_command})
            output=$($_FORGE_BIN "${cmd_parts[@]}" --porcelain 2>/dev/null)
        else
            output=$($_FORGE_BIN "$show_command" --porcelain 2>/dev/null)
        fi
        if [[ -n "$output" ]]; then
            local selected
            local fzf_args=(--delimiter="$_FORGE_DELIMITER" --prompt="$prompt_text ❯ ")
            if [[ -n "$with_nth" ]]; then
                fzf_args+=(--with-nth="$with_nth")
            fi
            if [[ -n "$default_value" ]]; then
                local index=$(_forge_find_index "$output" "$default_value" 1)
                fzf_args+=(--bind="start:pos($index)")
            fi
            selected=$(echo "$output" | _forge_fzf --header-lines=1 "${fzf_args[@]}")
            if [[ -n "$selected" ]]; then
                local name="${selected%% *}"
                _forge_exec config set "$config_flag" "$name"
            fi
        fi
    )
}
function _forge_action_tools() {
    echo
    local agent_id="${_FORGE_ACTIVE_AGENT:-forge}"
    _forge_exec list tools "$agent_id"
    _forge_reset
}
function _forge_action_skill() {
    echo
    _forge_exec list skill
    _forge_reset
}
function _forge_action_conversation() {
    local input_text="$1"
    echo
    if [[ -n "$input_text" ]]; then
        local conversation_id="$input_text"
        _FORGE_CONVERSATION_ID="$conversation_id"
        echo
        _forge_exec conversation show "$conversation_id"
        _forge_exec conversation info "$conversation_id"
        _forge_log success "Switched to conversation \033[1m${conversation_id}\033[0m"
        _forge_reset
        return 0
    fi
    local conversations_output
    conversations_output=$($_FORGE_BIN conversation list --porcelain 2>/dev/null)
    if [[ -n "$conversations_output" ]]; then
        local current_id="$_FORGE_CONVERSATION_ID"
        local prompt_text="Conversation ❯ "
        local fzf_args=(
            --prompt="$prompt_text"
            --delimiter="$_FORGE_DELIMITER"
            --with-nth="2,3"
            --preview="CLICOLOR_FORCE=1 $_FORGE_BIN conversation info {1}; echo; CLICOLOR_FORCE=1 $_FORGE_BIN conversation show {1}"
            $_FORGE_PREVIEW_WINDOW
        )
        if [[ -n "$current_id" ]]; then
            local index=$(_forge_find_index "$conversations_output" "$current_id" 1)
            fzf_args+=(--bind="start:pos($index)")
        fi
        local selected_conversation
        selected_conversation=$(echo "$conversations_output" | _forge_fzf --header-lines=1 "${fzf_args[@]}")
        if [[ -n "$selected_conversation" ]]; then
            local conversation_id=$(echo "$selected_conversation" | sed -E 's/  .*//' | tr -d '\n')
            _FORGE_CONVERSATION_ID="$conversation_id"
            echo
            _forge_exec conversation show "$conversation_id"
            _forge_exec conversation info "$conversation_id"
            _forge_log success "Switched to conversation \033[1m${conversation_id}\033[0m"
        fi
    else
        _forge_log error "No conversations found"
    fi
    _forge_reset
}
function _forge_action_clone() {
    local input_text="$1"
    local clone_target="$input_text"
    echo
    if [[ -n "$clone_target" ]]; then
        _forge_clone_and_switch "$clone_target"
        _forge_reset
        return 0
    fi
    local conversations_output
    conversations_output=$($_FORGE_BIN conversation list --porcelain 2>/dev/null)
    if [[ -z "$conversations_output" ]]; then
        _forge_log error "No conversations found"
        _forge_reset
        return 0
    fi
    local current_id="$_FORGE_CONVERSATION_ID"
    local prompt_text="Clone Conversation ❯ "
    local fzf_args=(
        --prompt="$prompt_text"
        --delimiter="$_FORGE_DELIMITER"
        --with-nth="2,3"
        --preview="CLICOLOR_FORCE=1 $_FORGE_BIN conversation info {1}; echo; CLICOLOR_FORCE=1 $_FORGE_BIN conversation show {1}"
        $_FORGE_PREVIEW_WINDOW
    )
    if [[ -n "$current_id" ]]; then
        local index=$(_forge_find_index "$conversations_output" "$current_id")
        fzf_args+=(--bind="start:pos($index)")
    fi
    local selected_conversation
    selected_conversation=$(echo "$conversations_output" | _forge_fzf --header-lines=1 "${fzf_args[@]}")
    if [[ -n "$selected_conversation" ]]; then
        local conversation_id=$(echo "$selected_conversation" | sed -E 's/  .*//' | tr -d '\n')
        _forge_clone_and_switch "$conversation_id"
    fi
    _forge_reset
}
function _forge_clone_and_switch() {
    local clone_target="$1"
    local original_conversation_id="$_FORGE_CONVERSATION_ID"
    _forge_log info "Cloning conversation \033[1m${clone_target}\033[0m"
    local clone_output
    clone_output=$($_FORGE_BIN conversation clone "$clone_target" 2>&1)
    local clone_exit_code=$?
    if [[ $clone_exit_code -eq 0 ]]; then
        local new_id=$(echo "$clone_output" | grep -oE '[a-f0-9-]{36}' | tail -1)
        if [[ -n "$new_id" ]]; then
            _FORGE_CONVERSATION_ID="$new_id"
            _forge_log success "└─ Switched to conversation \033[1m${new_id}\033[0m"
            if [[ "$clone_target" != "$original_conversation_id" ]]; then
                echo
                _forge_exec conversation show "$new_id"
                echo
                _forge_exec conversation info "$new_id"
            fi
        else
            _forge_log error "Failed to extract new conversation ID from clone output"
        fi
    else
        _forge_log error "Failed to clone conversation: $clone_output"
    fi
}
function _forge_action_new() {
    _FORGE_CONVERSATION_ID=""
    _FORGE_ACTIVE_AGENT="forge"
    echo
    _forge_exec banner
    _forge_reset
}
function _forge_action_info() {
    echo
    if [[ -n "$_FORGE_CONVERSATION_ID" ]]; then
        _forge_exec info --cid "$_FORGE_CONVERSATION_ID"
    else
        _forge_exec info
    fi
    _forge_reset
}
function _forge_action_env() {
    echo
    _forge_exec env
    _forge_reset
}
function _forge_action_dump() {
    local input_text="$1"
    if [[ "$input_text" == "html" ]]; then
        _forge_handle_conversation_command "dump" "--html"
    else
        _forge_handle_conversation_command "dump"
    fi
}
function _forge_action_compact() {
    _forge_handle_conversation_command "compact"
}
function _forge_action_retry() {
    _forge_handle_conversation_command "retry"
}
function _forge_handle_conversation_command() {
    local subcommand="$1"
    shift  # Remove first argument, remaining args become extra parameters
    echo
    if [[ -z "$_FORGE_CONVERSATION_ID" ]]; then
        _forge_log error "No active conversation. Start a conversation first or use :list to see existing ones"
        _forge_reset
        return 0
    fi
    _forge_exec conversation "$subcommand" "$_FORGE_CONVERSATION_ID" "$@"
    _forge_reset
    return 0
}
function _forge_action_doctor() {
    echo
    $_FORGE_BIN zsh doctor
    _forge_reset
}
function _forge_action_editor() {
    local initial_text="$1"
    echo
    local editor_cmd="${FORGE_EDITOR:-${EDITOR:-nano}}"
    if ! command -v "${editor_cmd%% *}" &>/dev/null; then
        _forge_log error "Editor not found: $editor_cmd (set FORGE_EDITOR or EDITOR)"
        _forge_reset
        return 1
    fi
    local forge_dir=".forge"
    if [[ ! -d "$forge_dir" ]]; then
        mkdir -p "$forge_dir" || {
            _forge_log error "Failed to create .forge directory"
            _forge_reset
            return 1
        }
    fi
    local temp_file="${forge_dir}/FORGE_EDITMSG.md"
    touch "$temp_file" || {
        _forge_log error "Failed to create temporary file"
        _forge_reset
        return 1
    }
    trap "rm -f '$temp_file'" EXIT INT TERM
    if [[ -n "$initial_text" ]]; then
        echo "$initial_text" > "$temp_file"
    fi
    eval "$editor_cmd '$temp_file'"
    local editor_exit_code=$?
    if [ $editor_exit_code -ne 0 ]; then
        _forge_log error "Editor exited with error code $editor_exit_code"
        _forge_reset
        return 1
    fi
    local content
    content=$(cat "$temp_file" | tr -d '\r')
    if [ -z "$content" ]; then
        _forge_log info "Editor closed with no content"
        _forge_reset
        return 0
    fi
    BUFFER=": $content"
    CURSOR=${#BUFFER}
    _forge_log info "Command ready - press Enter to execute"
    zle reset-prompt
}
function _forge_action_suggest() {
    local description="$1"
    if [[ -z "$description" ]]; then
        _forge_log error "Please provide a command description"
        _forge_reset
        return 0
    fi
    echo
    local generated_command
    generated_command=$(FORCE_COLOR=true CLICOLOR_FORCE=1 _forge_exec suggest "$description")
    if [[ -n "$generated_command" ]]; then
        BUFFER="$generated_command"
        CURSOR=${#BUFFER}
        zle reset-prompt
    else
        _forge_log error "Failed to generate command"
        _forge_reset
    fi
}
function _forge_action_commit() {
    local additional_context="$1"
    local commit_message
    echo
    if [[ -n "$additional_context" ]]; then
        commit_message=$(FORCE_COLOR=true CLICOLOR_FORCE=1 $_FORGE_BIN commit --preview --max-diff "$_FORGE_MAX_COMMIT_DIFF" $additional_context)
    else
        commit_message=$(FORCE_COLOR=true CLICOLOR_FORCE=1 $_FORGE_BIN commit --preview --max-diff "$_FORGE_MAX_COMMIT_DIFF")
    fi
    if [[ -n "$commit_message" ]]; then
        if git diff --staged --quiet; then
            BUFFER="git commit -a -m '$commit_message'"
        else
            BUFFER="git commit -m '$commit_message'"
        fi
        CURSOR=${#BUFFER}
        zle reset-prompt
    else
        echo "$commit_message"
        _forge_reset
    fi
}
function _forge_select_provider() {
    local filter_status="${1:-}"
    local current_provider="${2:-}"
    local filter_type="${3:-}"
    local output
    local cmd="$_FORGE_BIN list provider --porcelain"
    if [[ -n "$filter_type" ]]; then
        cmd="$cmd --type=$filter_type"
    fi
    output=$(eval "$cmd" 2>/dev/null)
    if [[ -z "$output" ]]; then
        _forge_log error "No providers available"
        return 1
    fi
    if [[ -n "$filter_status" ]]; then
        local header=$(echo "$output" | head -n 1)
        local filtered=$(echo "$output" | tail -n +2 | grep -i "$filter_status")
        if [[ -z "$filtered" ]]; then
            _forge_log error "No ${filter_status} providers found"
            return 1
        fi
        output=$(printf "%s\n%s" "$header" "$filtered")
    fi
    if [[ -z "$current_provider" ]]; then
        current_provider=$($_FORGE_BIN config get provider --porcelain 2>/dev/null)
    fi
    local fzf_args=(
        --delimiter="$_FORGE_DELIMITER"
        --prompt="Provider ❯ "
        --with-nth=1,3..
    )
    if [[ -n "$current_provider" ]]; then
        local index=$(_forge_find_index "$output" "$current_provider" 1)
        fzf_args+=(--bind="start:pos($index)")
    fi
    local selected
    selected=$(echo "$output" | _forge_fzf --header-lines=1 "${fzf_args[@]}")
    if [[ -n "$selected" ]]; then
        echo "$selected"
        return 0
    fi
    return 1
}
zle -N forge-accept-line
zle -N forge-completion
function forge-bracketed-paste() {
    zle .$WIDGET "$@"
    zle redisplay
    zle reset-prompt
}
zle -N bracketed-paste forge-bracketed-paste
bindkey '^M' forge-accept-line
bindkey '^J' forge-accept-line
bindkey '^I' forge-completion  # Tab for both @ and :command completion
function forge-completion() {
    local current_word="${LBUFFER##* }"
    if [[ "$current_word" =~ ^@.*$ ]]; then
        local filter_text="${current_word#@}"
        local selected
        local fzf_args=(
            --preview="if [ -d {} ]; then ls -la --color=always {} 2>/dev/null || ls -la {}; else $_FORGE_CAT_CMD {}; fi"
            $_FORGE_PREVIEW_WINDOW
        )
        local file_list=$($_FORGE_FD_CMD --type f --type d --hidden --exclude .git)
        if [[ -n "$filter_text" ]]; then
            selected=$(echo "$file_list" | _forge_fzf --query "$filter_text" "${fzf_args[@]}")
        else
            selected=$(echo "$file_list" | _forge_fzf "${fzf_args[@]}")
        fi
        if [[ -n "$selected" ]]; then
            selected="@[${selected}]"
            LBUFFER="${LBUFFER%$current_word}"
            BUFFER="${LBUFFER}${selected}${RBUFFER}"
            CURSOR=$((${#LBUFFER} + ${#selected}))
        fi
        zle reset-prompt
        return 0
    fi
    if [[ "${LBUFFER}" =~ "^:([a-zA-Z][a-zA-Z0-9_-]*)?$" ]]; then
        local filter_text="${LBUFFER#:}"
        local commands_list=$(_forge_get_commands)
        if [[ -n "$commands_list" ]]; then
            local selected
            if [[ -n "$filter_text" ]]; then
                selected=$(echo "$commands_list" | _forge_fzf --header-lines=1 --delimiter="$_FORGE_DELIMITER" --nth=1 --query "$filter_text" --prompt="Command ❯ ")
            else
                selected=$(echo "$commands_list" | _forge_fzf --header-lines=1 --delimiter="$_FORGE_DELIMITER" --nth=1 --prompt="Command ❯ ")
            fi
            if [[ -n "$selected" ]]; then
                local command_name="${selected%% *}"
                BUFFER=":$command_name "
                CURSOR=${#BUFFER}
            fi
        fi
        zle reset-prompt
        return 0
    fi
    zle expand-or-complete
}
typeset -h _FORGE_BIN="${FORGE_BIN:-forge}"
typeset -h _FORGE_CONVERSATION_PATTERN=":"
typeset -h _FORGE_MAX_COMMIT_DIFF="${FORGE_MAX_COMMIT_DIFF:-100000}"
typeset -h _FORGE_DELIMITER='\s\s+'
typeset -h _FORGE_PREVIEW_WINDOW="--preview-window=top:75%:wrap:border-sharp"
typeset -h _FORGE_FD_CMD="$(command -v fdfind 2>/dev/null || command -v fd 2>/dev/null || echo 'fd')"
if command -v bat &>/dev/null; then
    typeset -h _FORGE_CAT_CMD="bat --color=always --style=numbers,changes --line-range=:500"
else
    typeset -h _FORGE_CAT_CMD="cat"
fi
typeset -h _FORGE_COMMANDS=""
function _forge_action_default() {
    local user_action="$1"
    local input_text="$2"
    if [[ -n "$user_action" ]]; then
        local commands_list=$(_forge_get_commands)
        if [[ -n "$commands_list" ]]; then
            local command_row=$(echo "$commands_list" | grep "^${user_action}\b")
            if [[ -z "$command_row" ]]; then
                echo
                _forge_log error "Command '\033[1m${user_action}\033[0m' not found"
                _forge_reset
                return 0
            fi
            local command_type=$(echo "$command_row" | awk '{print $2}')
            if [[ "${command_type:l}" == "custom" ]]; then
                [[ -z "$_FORGE_CONVERSATION_ID" ]] && _FORGE_CONVERSATION_ID=$($_FORGE_BIN conversation new)
                echo
                if [[ -n "$input_text" ]]; then
                    _forge_exec cmd --cid "$_FORGE_CONVERSATION_ID" "$user_action" "$input_text"
                else
                    _forge_exec cmd --cid "$_FORGE_CONVERSATION_ID" "$user_action"
                fi
                _forge_reset
                return 0
            fi
        fi
    fi
    if [[ -z "$input_text" ]]; then
        if [[ -n "$user_action" ]]; then
            echo
            _FORGE_ACTIVE_AGENT="$user_action"
            _forge_log info "\033[1;37m${_FORGE_ACTIVE_AGENT:u}\033[0m \033[90mis now the active agent\033[0m"
        fi
        _forge_reset
        return 0
    fi
    if [[ -z "$_FORGE_CONVERSATION_ID" ]]; then
        _FORGE_CONVERSATION_ID=$($_FORGE_BIN conversation new)
    fi
    echo
    if [[ -n "$user_action" ]]; then
        _FORGE_ACTIVE_AGENT="$user_action"
    fi
    _forge_exec -p "$input_text" --cid "$_FORGE_CONVERSATION_ID"
    _forge_reset
}
function forge-accept-line() {
    local original_buffer="$BUFFER"
    local user_action=""
    local input_text=""
    if [[ "$BUFFER" =~ "^:([a-zA-Z][a-zA-Z0-9_-]*)( (.*))?$" ]]; then
        user_action="${match[1]}"
        if [[ -n "${match[2]}" ]]; then
            input_text="${match[3]}"
        else
            input_text=""
        fi
    elif [[ "$BUFFER" =~ "^: (.*)$" ]]; then
        user_action=""
        input_text="${match[1]}"
    else
        zle accept-line
        return
    fi
    print -s -- "$original_buffer"
    if [[ "$BUFFER" == *$'\n'* ]]; then
        CURSOR=${#BUFFER}
        zle redisplay
    fi
    case "$user_action" in
        ask)
            user_action="sage"
        ;;
        plan)
            user_action="muse"
        ;;
    esac
    case "$user_action" in
        new|n)
            _forge_action_new
        ;;
        info|i)
            _forge_action_info
        ;;
        env|e)
            _forge_action_env
        ;;
        dump|d)
            _forge_action_dump "$input_text"
        ;;
        compact)
            _forge_action_compact
        ;;
        retry|r)
            _forge_action_retry
        ;;
        agent|a)
            _forge_action_agent "$input_text"
        ;;
        conversation|c)
            _forge_action_conversation "$input_text"
        ;;
        provider|p)
            _forge_action_provider
        ;;
        model|m)
            _forge_action_model
        ;;
        tools|t)
            _forge_action_tools
        ;;
        skill)
            _forge_action_skill
        ;;
        edit|ed)
            _forge_action_editor "$input_text"
        ;;
        commit)
            _forge_action_commit "$input_text"
        ;;
        suggest|s)
            _forge_action_suggest "$input_text"
        ;;
        clone)
            _forge_action_clone "$input_text"
        ;;
        sync)
            _forge_action_sync
        ;;
        login)
            _forge_action_login
        ;;
        logout)
            _forge_action_logout
        ;;
        doctor)
            _forge_action_doctor
        ;;
        *)
            _forge_action_default "$user_action" "$input_text"
        ;;
    esac
}
function _forge_get_commands() {
    if [[ -z "$_FORGE_COMMANDS" ]]; then
        _FORGE_COMMANDS="$(CLICOLOR_FORCE=0 $_FORGE_BIN list commands --porcelain 2>/dev/null)"
    fi
    echo "$_FORGE_COMMANDS"
}
function _forge_fzf() {
    fzf --exact --cycle --select-1 --height 100% --no-scrollbar --ansi --color="header:bold" "$@"
}
function _forge_exec() {
    local agent_id="${_FORGE_ACTIVE_AGENT:-forge}"
    eval "$_FORGE_BIN --agent $(printf '%q' "$agent_id") $(printf '%q ' "$@")"
}
function _forge_reset() {
    for precmd in $precmd_functions; do
        if typeset -f "$precmd" >/dev/null 2>&1; then
            "$precmd"
        fi
    done
   BUFFER=""
   CURSOR=0
   zle reset-prompt 
}
function _forge_find_index() {
    local output="$1"
    local value_to_find="$2"
    local field_number="${3:-1}"  # Default to first field if not specified
    local index=1
    local line_num=0
    while IFS= read -r line; do
        ((line_num++))
        if [[ $line_num -eq 1 ]]; then
            continue
        fi
        local field_value=$(echo "$line" | awk "{print \$$field_number}")
        if [[ "$field_value" == "$value_to_find" ]]; then
            echo "$index"
            return 0
        fi
        ((index++))
    done <<< "$output"
    echo "1"
    return 0
}
function _forge_log() {
    local level="$1"
    local message="$2"
    local timestamp="\033[90m[$(date '+%H:%M:%S')]\033[0m"
    case "$level" in
        error)
            echo "\033[31m⏺\033[0m ${timestamp} \033[31m${message}\033[0m"
            ;;
        info)
            echo "\033[37m⏺\033[0m ${timestamp} \033[37m${message}\033[0m"
            ;;
        success)
            echo "\033[33m⏺\033[0m ${timestamp} \033[37m${message}\033[0m"
            ;;
        warning)
            echo "\033[93m⚠️\033[0m ${timestamp} \033[93m${message}\033[0m"
            ;;
        debug)
            echo "\033[36m⏺\033[0m ${timestamp} \033[90m${message}\033[0m"
            ;;
        *)
            echo "${message}"
            ;;
    esac
}
ZSH_HIGHLIGHT_PATTERNS+=('@\[[^]]#\]' 'fg=cyan,bold')
ZSH_HIGHLIGHT_PATTERNS+=('(#s):[a-zA-Z0-9_-]#' 'fg=yellow,bold')
ZSH_HIGHLIGHT_PATTERNS+=('(#s):[a-zA-Z0-9_-]# [[:graph:]]*' 'fg=white')
ZSH_HIGHLIGHT_HIGHLIGHTERS+=(pattern)

# --- Clap Completions ---
#compdef forge

autoload -U is-at-least

_forge() {
    typeset -A opt_args
    typeset -a _arguments_options
    local ret=1

    if is-at-least 5.2; then
        _arguments_options=(-s -S -C)
    else
        _arguments_options=(-s -C)
    fi

    local context curcontext="$curcontext" state line
    _arguments "${_arguments_options[@]}" : \
'-p+[Direct prompt to process without entering interactive mode]:PROMPT:_default' \
'--prompt=[Direct prompt to process without entering interactive mode]:PROMPT:_default' \
'--conversation=[Path to a JSON file containing the conversation to execute]:CONVERSATION:_files' \
'--conversation-id=[Conversation ID to use for this session]:CONVERSATION_ID:_default' \
'-C+[Working directory to use before starting the session]:DIRECTORY:_files' \
'--directory=[Working directory to use before starting the session]:DIRECTORY:_files' \
'--sandbox=[Name for an isolated git worktree to create for experimentation]:SANDBOX:_default' \
'--agent=[Agent ID to use for this session]:AGENT:_default' \
'-w+[Path to a file containing the workflow to execute]:WORKFLOW:_files' \
'--workflow=[Path to a file containing the workflow to execute]:WORKFLOW:_files' \
'-e+[Event to dispatch to the workflow in JSON format]:EVENT:_default' \
'--event=[Event to dispatch to the workflow in JSON format]:EVENT:_default' \
'--verbose[Enable verbose logging output]' \
'-r[Use restricted shell (rbash) for enhanced security]' \
'--restricted[Use restricted shell (rbash) for enhanced security]' \
'-h[Print help (see more with '\''--help'\'')]' \
'--help[Print help (see more with '\''--help'\'')]' \
'-V[Print version]' \
'--version[Print version]' \
":: :_forge_commands" \
"*::: :->forge" \
&& ret=0
    case $state in
    (forge)
        words=($line[1] "${words[@]}")
        (( CURRENT += 1 ))
        curcontext="${curcontext%:*:*}:forge-command-$line[1]:"
        case $line[1] in
            (agent)
_arguments "${_arguments_options[@]}" : \
'--porcelain[Output in machine-readable format]' \
'-h[Print help]' \
'--help[Print help]' \
":: :_forge__agent_commands" \
"*::: :->agent" \
&& ret=0

    case $state in
    (agent)
        words=($line[1] "${words[@]}")
        (( CURRENT += 1 ))
        curcontext="${curcontext%:*:*}:forge-agent-command-$line[1]:"
        case $line[1] in
            (list)
_arguments "${_arguments_options[@]}" : \
'--porcelain[Output in machine-readable format]' \
'-h[Print help]' \
'--help[Print help]' \
&& ret=0
;;
(help)
_arguments "${_arguments_options[@]}" : \
":: :_forge__agent__help_commands" \
"*::: :->help" \
&& ret=0

    case $state in
    (help)
        words=($line[1] "${words[@]}")
        (( CURRENT += 1 ))
        curcontext="${curcontext%:*:*}:forge-agent-help-command-$line[1]:"
        case $line[1] in
            (list)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(help)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
        esac
    ;;
esac
;;
        esac
    ;;
esac
;;
(zsh)
_arguments "${_arguments_options[@]}" : \
'-h[Print help]' \
'--help[Print help]' \
":: :_forge__zsh_commands" \
"*::: :->zsh" \
&& ret=0

    case $state in
    (zsh)
        words=($line[1] "${words[@]}")
        (( CURRENT += 1 ))
        curcontext="${curcontext%:*:*}:forge-zsh-command-$line[1]:"
        case $line[1] in
            (plugin)
_arguments "${_arguments_options[@]}" : \
'-h[Print help]' \
'--help[Print help]' \
&& ret=0
;;
(theme)
_arguments "${_arguments_options[@]}" : \
'-h[Print help]' \
'--help[Print help]' \
&& ret=0
;;
(doctor)
_arguments "${_arguments_options[@]}" : \
'-h[Print help]' \
'--help[Print help]' \
&& ret=0
;;
(rprompt)
_arguments "${_arguments_options[@]}" : \
'-h[Print help]' \
'--help[Print help]' \
&& ret=0
;;
(help)
_arguments "${_arguments_options[@]}" : \
":: :_forge__zsh__help_commands" \
"*::: :->help" \
&& ret=0

    case $state in
    (help)
        words=($line[1] "${words[@]}")
        (( CURRENT += 1 ))
        curcontext="${curcontext%:*:*}:forge-zsh-help-command-$line[1]:"
        case $line[1] in
            (plugin)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(theme)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(doctor)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(rprompt)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(help)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
        esac
    ;;
esac
;;
        esac
    ;;
esac
;;
(list)
_arguments "${_arguments_options[@]}" : \
'--porcelain[Output in machine-readable format]' \
'-h[Print help]' \
'--help[Print help]' \
":: :_forge__list_commands" \
"*::: :->list" \
&& ret=0

    case $state in
    (list)
        words=($line[1] "${words[@]}")
        (( CURRENT += 1 ))
        curcontext="${curcontext%:*:*}:forge-list-command-$line[1]:"
        case $line[1] in
            (agent)
_arguments "${_arguments_options[@]}" : \
'--porcelain[Output in machine-readable format]' \
'-h[Print help]' \
'--help[Print help]' \
&& ret=0
;;
(provider)
_arguments "${_arguments_options[@]}" : \
'*-t+[Filter providers by type (e.g., llm, context_engine). Can be specified multiple times]:TYPES:_default' \
'*--type=[Filter providers by type (e.g., llm, context_engine). Can be specified multiple times]:TYPES:_default' \
'--porcelain[Output in machine-readable format]' \
'-h[Print help]' \
'--help[Print help]' \
&& ret=0
;;
(model)
_arguments "${_arguments_options[@]}" : \
'--porcelain[Output in machine-readable format]' \
'-h[Print help]' \
'--help[Print help]' \
&& ret=0
;;
(command)
_arguments "${_arguments_options[@]}" : \
'--porcelain[Output in machine-readable format]' \
'-h[Print help]' \
'--help[Print help]' \
&& ret=0
;;
(config)
_arguments "${_arguments_options[@]}" : \
'--porcelain[Output in machine-readable format]' \
'-h[Print help]' \
'--help[Print help]' \
&& ret=0
;;
(tool)
_arguments "${_arguments_options[@]}" : \
'--porcelain[Output in machine-readable format]' \
'-h[Print help]' \
'--help[Print help]' \
':agent -- Agent ID to list tools for:_default' \
&& ret=0
;;
(mcp)
_arguments "${_arguments_options[@]}" : \
'--porcelain[Output in machine-readable format]' \
'-h[Print help]' \
'--help[Print help]' \
&& ret=0
;;
(conversation)
_arguments "${_arguments_options[@]}" : \
'--porcelain[Output in machine-readable format]' \
'-h[Print help]' \
'--help[Print help]' \
&& ret=0
;;
(cmd)
_arguments "${_arguments_options[@]}" : \
'--porcelain[Output in machine-readable format]' \
'-h[Print help]' \
'--help[Print help]' \
&& ret=0
;;
(skill)
_arguments "${_arguments_options[@]}" : \
'--porcelain[Output in machine-readable format]' \
'-h[Print help]' \
'--help[Print help]' \
&& ret=0
;;
(help)
_arguments "${_arguments_options[@]}" : \
":: :_forge__list__help_commands" \
"*::: :->help" \
&& ret=0

    case $state in
    (help)
        words=($line[1] "${words[@]}")
        (( CURRENT += 1 ))
        curcontext="${curcontext%:*:*}:forge-list-help-command-$line[1]:"
        case $line[1] in
            (agent)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(provider)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(model)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(command)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(config)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(tool)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(mcp)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(conversation)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(cmd)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(skill)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(help)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
        esac
    ;;
esac
;;
        esac
    ;;
esac
;;
(banner)
_arguments "${_arguments_options[@]}" : \
'-h[Print help]' \
'--help[Print help]' \
&& ret=0
;;
(info)
_arguments "${_arguments_options[@]}" : \
'--conversation-id=[Conversation ID for session-specific information]:CONVERSATION_ID:_default' \
'--porcelain[Output in machine-readable format]' \
'-h[Print help]' \
'--help[Print help]' \
&& ret=0
;;
(env)
_arguments "${_arguments_options[@]}" : \
'-h[Print help]' \
'--help[Print help]' \
&& ret=0
;;
(config)
_arguments "${_arguments_options[@]}" : \
'--porcelain[Output in machine-readable format]' \
'-h[Print help]' \
'--help[Print help]' \
":: :_forge__config_commands" \
"*::: :->config" \
&& ret=0

    case $state in
    (config)
        words=($line[1] "${words[@]}")
        (( CURRENT += 1 ))
        curcontext="${curcontext%:*:*}:forge-config-command-$line[1]:"
        case $line[1] in
            (set)
_arguments "${_arguments_options[@]}" : \
'--porcelain[Output in machine-readable format]' \
'-h[Print help (see more with '\''--help'\'')]' \
'--help[Print help (see more with '\''--help'\'')]' \
':field -- Configuration field to set:((model\:"The active model"
provider\:"The active provider"))' \
':value -- Value to set:_default' \
&& ret=0
;;
(get)
_arguments "${_arguments_options[@]}" : \
'--porcelain[Output in machine-readable format]' \
'-h[Print help (see more with '\''--help'\'')]' \
'--help[Print help (see more with '\''--help'\'')]' \
':field -- Configuration field to get:((model\:"The active model"
provider\:"The active provider"))' \
&& ret=0
;;
(list)
_arguments "${_arguments_options[@]}" : \
'--porcelain[Output in machine-readable format]' \
'-h[Print help]' \
'--help[Print help]' \
&& ret=0
;;
(help)
_arguments "${_arguments_options[@]}" : \
":: :_forge__config__help_commands" \
"*::: :->help" \
&& ret=0

    case $state in
    (help)
        words=($line[1] "${words[@]}")
        (( CURRENT += 1 ))
        curcontext="${curcontext%:*:*}:forge-config-help-command-$line[1]:"
        case $line[1] in
            (set)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(get)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(list)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(help)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
        esac
    ;;
esac
;;
        esac
    ;;
esac
;;
(conversation)
_arguments "${_arguments_options[@]}" : \
'-h[Print help]' \
'--help[Print help]' \
":: :_forge__conversation_commands" \
"*::: :->conversation" \
&& ret=0

    case $state in
    (conversation)
        words=($line[1] "${words[@]}")
        (( CURRENT += 1 ))
        curcontext="${curcontext%:*:*}:forge-conversation-command-$line[1]:"
        case $line[1] in
            (list)
_arguments "${_arguments_options[@]}" : \
'--porcelain[Output in machine-readable format]' \
'-h[Print help]' \
'--help[Print help]' \
&& ret=0
;;
(new)
_arguments "${_arguments_options[@]}" : \
'-h[Print help]' \
'--help[Print help]' \
&& ret=0
;;
(dump)
_arguments "${_arguments_options[@]}" : \
'--html[Export as HTML instead of JSON]' \
'-h[Print help]' \
'--help[Print help]' \
':id -- Conversation ID to export:_default' \
&& ret=0
;;
(compact)
_arguments "${_arguments_options[@]}" : \
'-h[Print help]' \
'--help[Print help]' \
':id -- Conversation ID to compact:_default' \
&& ret=0
;;
(retry)
_arguments "${_arguments_options[@]}" : \
'-h[Print help]' \
'--help[Print help]' \
':id -- Conversation ID to retry:_default' \
&& ret=0
;;
(resume)
_arguments "${_arguments_options[@]}" : \
'-h[Print help]' \
'--help[Print help]' \
':id -- Conversation ID to resume:_default' \
&& ret=0
;;
(show)
_arguments "${_arguments_options[@]}" : \
'-h[Print help]' \
'--help[Print help]' \
':id -- Conversation ID:_default' \
&& ret=0
;;
(info)
_arguments "${_arguments_options[@]}" : \
'-h[Print help]' \
'--help[Print help]' \
':id -- Conversation ID:_default' \
&& ret=0
;;
(stats)
_arguments "${_arguments_options[@]}" : \
'--porcelain[Output in machine-readable format]' \
'-h[Print help]' \
'--help[Print help]' \
':id -- Conversation ID:_default' \
&& ret=0
;;
(clone)
_arguments "${_arguments_options[@]}" : \
'--porcelain[Output in machine-readable format]' \
'-h[Print help]' \
'--help[Print help]' \
':id -- Conversation ID to clone:_default' \
&& ret=0
;;
(delete)
_arguments "${_arguments_options[@]}" : \
'-h[Print help]' \
'--help[Print help]' \
':id -- Conversation ID to delete:_default' \
&& ret=0
;;
(help)
_arguments "${_arguments_options[@]}" : \
":: :_forge__conversation__help_commands" \
"*::: :->help" \
&& ret=0

    case $state in
    (help)
        words=($line[1] "${words[@]}")
        (( CURRENT += 1 ))
        curcontext="${curcontext%:*:*}:forge-conversation-help-command-$line[1]:"
        case $line[1] in
            (list)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(new)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(dump)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(compact)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(retry)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(resume)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(show)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(info)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(stats)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(clone)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(delete)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(help)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
        esac
    ;;
esac
;;
        esac
    ;;
esac
;;
(commit)
_arguments "${_arguments_options[@]}" : \
'--max-diff=[Maximum git diff size in bytes (default\: 100k)]:MAX_DIFF_SIZE:_default' \
'--preview[Preview the commit message without committing]' \
'-h[Print help (see more with '\''--help'\'')]' \
'--help[Print help (see more with '\''--help'\'')]' \
'*::text -- Additional text to customize the commit message:_default' \
&& ret=0
;;
(mcp)
_arguments "${_arguments_options[@]}" : \
'--porcelain[Output in machine-readable format]' \
'-h[Print help]' \
'--help[Print help]' \
":: :_forge__mcp_commands" \
"*::: :->mcp" \
&& ret=0

    case $state in
    (mcp)
        words=($line[1] "${words[@]}")
        (( CURRENT += 1 ))
        curcontext="${curcontext%:*:*}:forge-mcp-command-$line[1]:"
        case $line[1] in
            (import)
_arguments "${_arguments_options[@]}" : \
'-s+[Configuration scope]:SCOPE:((local\:"Local configuration (project-specific)"
user\:"User configuration (global to the user)"))' \
'--scope=[Configuration scope]:SCOPE:((local\:"Local configuration (project-specific)"
user\:"User configuration (global to the user)"))' \
'--porcelain[Output in machine-readable format]' \
'-h[Print help (see more with '\''--help'\'')]' \
'--help[Print help (see more with '\''--help'\'')]' \
':json -- JSON configuration to import:_default' \
&& ret=0
;;
(list)
_arguments "${_arguments_options[@]}" : \
'--porcelain[Output in machine-readable format]' \
'-h[Print help]' \
'--help[Print help]' \
&& ret=0
;;
(remove)
_arguments "${_arguments_options[@]}" : \
'-s+[Configuration scope]:SCOPE:((local\:"Local configuration (project-specific)"
user\:"User configuration (global to the user)"))' \
'--scope=[Configuration scope]:SCOPE:((local\:"Local configuration (project-specific)"
user\:"User configuration (global to the user)"))' \
'--porcelain[Output in machine-readable format]' \
'-h[Print help (see more with '\''--help'\'')]' \
'--help[Print help (see more with '\''--help'\'')]' \
':name -- Name of the server to remove:_default' \
&& ret=0
;;
(show)
_arguments "${_arguments_options[@]}" : \
'--porcelain[Output in machine-readable format]' \
'-h[Print help]' \
'--help[Print help]' \
':name -- Name of the server to show details for:_default' \
&& ret=0
;;
(reload)
_arguments "${_arguments_options[@]}" : \
'--porcelain[Output in machine-readable format]' \
'-h[Print help]' \
'--help[Print help]' \
&& ret=0
;;
(help)
_arguments "${_arguments_options[@]}" : \
":: :_forge__mcp__help_commands" \
"*::: :->help" \
&& ret=0

    case $state in
    (help)
        words=($line[1] "${words[@]}")
        (( CURRENT += 1 ))
        curcontext="${curcontext%:*:*}:forge-mcp-help-command-$line[1]:"
        case $line[1] in
            (import)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(list)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(remove)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(show)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(reload)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(help)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
        esac
    ;;
esac
;;
        esac
    ;;
esac
;;
(suggest)
_arguments "${_arguments_options[@]}" : \
'-h[Print help]' \
'--help[Print help]' \
':prompt -- Natural language description of the desired command:_default' \
&& ret=0
;;
(provider)
_arguments "${_arguments_options[@]}" : \
'--porcelain[Output in machine-readable format]' \
'-h[Print help]' \
'--help[Print help]' \
":: :_forge__provider_commands" \
"*::: :->provider" \
&& ret=0

    case $state in
    (provider)
        words=($line[1] "${words[@]}")
        (( CURRENT += 1 ))
        curcontext="${curcontext%:*:*}:forge-provider-command-$line[1]:"
        case $line[1] in
            (login)
_arguments "${_arguments_options[@]}" : \
'--porcelain[Output in machine-readable format]' \
'-h[Print help (see more with '\''--help'\'')]' \
'--help[Print help (see more with '\''--help'\'')]' \
'::provider -- Provider name to authenticate with:_default' \
&& ret=0
;;
(logout)
_arguments "${_arguments_options[@]}" : \
'--porcelain[Output in machine-readable format]' \
'-h[Print help (see more with '\''--help'\'')]' \
'--help[Print help (see more with '\''--help'\'')]' \
'::provider -- Provider name to log out from:_default' \
&& ret=0
;;
(list)
_arguments "${_arguments_options[@]}" : \
'*-t+[Filter providers by type (e.g., llm, context_engine). Can be specified multiple times]:TYPES:_default' \
'*--type=[Filter providers by type (e.g., llm, context_engine). Can be specified multiple times]:TYPES:_default' \
'--porcelain[Output in machine-readable format]' \
'-h[Print help]' \
'--help[Print help]' \
&& ret=0
;;
(help)
_arguments "${_arguments_options[@]}" : \
":: :_forge__provider__help_commands" \
"*::: :->help" \
&& ret=0

    case $state in
    (help)
        words=($line[1] "${words[@]}")
        (( CURRENT += 1 ))
        curcontext="${curcontext%:*:*}:forge-provider-help-command-$line[1]:"
        case $line[1] in
            (login)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(logout)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(list)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(help)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
        esac
    ;;
esac
;;
        esac
    ;;
esac
;;
(cmd)
_arguments "${_arguments_options[@]}" : \
'--conversation-id=[Conversation ID to execute the command within]:CONVERSATION_ID:_default' \
'--porcelain[Output in machine-readable format]' \
'-h[Print help]' \
'--help[Print help]' \
":: :_forge__cmd_commands" \
"*::: :->cmd" \
&& ret=0

    case $state in
    (cmd)
        words=($line[1] "${words[@]}")
        (( CURRENT += 1 ))
        curcontext="${curcontext%:*:*}:forge-cmd-command-$line[1]:"
        case $line[1] in
            (list)
_arguments "${_arguments_options[@]}" : \
'--conversation-id=[Conversation ID to execute the command within]:CONVERSATION_ID:_default' \
'--porcelain[Output in machine-readable format]' \
'-h[Print help]' \
'--help[Print help]' \
&& ret=0
;;
(help)
_arguments "${_arguments_options[@]}" : \
":: :_forge__cmd__help_commands" \
"*::: :->help" \
&& ret=0

    case $state in
    (help)
        words=($line[1] "${words[@]}")
        (( CURRENT += 1 ))
        curcontext="${curcontext%:*:*}:forge-cmd-help-command-$line[1]:"
        case $line[1] in
            (list)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(help)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
        esac
    ;;
esac
;;
        esac
    ;;
esac
;;
(workspace)
_arguments "${_arguments_options[@]}" : \
'-h[Print help]' \
'--help[Print help]' \
":: :_forge__workspace_commands" \
"*::: :->workspace" \
&& ret=0

    case $state in
    (workspace)
        words=($line[1] "${words[@]}")
        (( CURRENT += 1 ))
        curcontext="${curcontext%:*:*}:forge-workspace-command-$line[1]:"
        case $line[1] in
            (sync)
_arguments "${_arguments_options[@]}" : \
'--batch-size=[Number of files to upload per batch. Reduce this if you encounter token limit errors]:BATCH_SIZE:_default' \
'-h[Print help]' \
'--help[Print help]' \
'::path -- Path to the directory to sync:_files' \
&& ret=0
;;
(list)
_arguments "${_arguments_options[@]}" : \
'-p[Output in machine-readable format]' \
'--porcelain[Output in machine-readable format]' \
'-h[Print help]' \
'--help[Print help]' \
&& ret=0
;;
(query)
_arguments "${_arguments_options[@]}" : \
'-l+[Maximum number of results to return]:LIMIT:_default' \
'--limit=[Maximum number of results to return]:LIMIT:_default' \
'--top-k=[Number of highest probability tokens to consider (1-1000)]:TOP_K:_default' \
'-r+[Describe your intent or goal to filter results for relevance]:USE_CASE:_default' \
'--use-case=[Describe your intent or goal to filter results for relevance]:USE_CASE:_default' \
'--starts-with=[Filter results to files starting with this prefix]:STARTS_WITH:_default' \
'--ends-with=[Filter results to files ending with this suffix]:ENDS_WITH:_default' \
'-h[Print help]' \
'--help[Print help]' \
':query -- Search query:_default' \
'::path -- Path to the directory to index (used when no subcommand is provided):_files' \
&& ret=0
;;
(info)
_arguments "${_arguments_options[@]}" : \
'-h[Print help]' \
'--help[Print help]' \
'::path -- Path to the directory to get information for:_files' \
&& ret=0
;;
(delete)
_arguments "${_arguments_options[@]}" : \
'-h[Print help]' \
'--help[Print help]' \
':workspace_id -- Workspace ID to delete:_default' \
&& ret=0
;;
(help)
_arguments "${_arguments_options[@]}" : \
":: :_forge__workspace__help_commands" \
"*::: :->help" \
&& ret=0

    case $state in
    (help)
        words=($line[1] "${words[@]}")
        (( CURRENT += 1 ))
        curcontext="${curcontext%:*:*}:forge-workspace-help-command-$line[1]:"
        case $line[1] in
            (sync)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(list)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(query)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(info)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(delete)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(help)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
        esac
    ;;
esac
;;
        esac
    ;;
esac
;;
(data)
_arguments "${_arguments_options[@]}" : \
'--input=[Path to JSONL file to process]:INPUT:_default' \
'--schema=[Path to JSON schema file for LLM tool definition]:SCHEMA:_default' \
'--system-prompt=[Path to Handlebars template file for system prompt]:SYSTEM_PROMPT:_default' \
'--user-prompt=[Path to Handlebars template file for user prompt]:USER_PROMPT:_default' \
'--concurrency=[Maximum number of concurrent LLM requests]:CONCURRENCY:_default' \
'-h[Print help]' \
'--help[Print help]' \
&& ret=0
;;
(help)
_arguments "${_arguments_options[@]}" : \
":: :_forge__help_commands" \
"*::: :->help" \
&& ret=0

    case $state in
    (help)
        words=($line[1] "${words[@]}")
        (( CURRENT += 1 ))
        curcontext="${curcontext%:*:*}:forge-help-command-$line[1]:"
        case $line[1] in
            (agent)
_arguments "${_arguments_options[@]}" : \
":: :_forge__help__agent_commands" \
"*::: :->agent" \
&& ret=0

    case $state in
    (agent)
        words=($line[1] "${words[@]}")
        (( CURRENT += 1 ))
        curcontext="${curcontext%:*:*}:forge-help-agent-command-$line[1]:"
        case $line[1] in
            (list)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
        esac
    ;;
esac
;;
(zsh)
_arguments "${_arguments_options[@]}" : \
":: :_forge__help__zsh_commands" \
"*::: :->zsh" \
&& ret=0

    case $state in
    (zsh)
        words=($line[1] "${words[@]}")
        (( CURRENT += 1 ))
        curcontext="${curcontext%:*:*}:forge-help-zsh-command-$line[1]:"
        case $line[1] in
            (plugin)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(theme)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(doctor)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(rprompt)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
        esac
    ;;
esac
;;
(list)
_arguments "${_arguments_options[@]}" : \
":: :_forge__help__list_commands" \
"*::: :->list" \
&& ret=0

    case $state in
    (list)
        words=($line[1] "${words[@]}")
        (( CURRENT += 1 ))
        curcontext="${curcontext%:*:*}:forge-help-list-command-$line[1]:"
        case $line[1] in
            (agent)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(provider)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(model)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(command)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(config)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(tool)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(mcp)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(conversation)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(cmd)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(skill)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
        esac
    ;;
esac
;;
(banner)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(info)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(env)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(config)
_arguments "${_arguments_options[@]}" : \
":: :_forge__help__config_commands" \
"*::: :->config" \
&& ret=0

    case $state in
    (config)
        words=($line[1] "${words[@]}")
        (( CURRENT += 1 ))
        curcontext="${curcontext%:*:*}:forge-help-config-command-$line[1]:"
        case $line[1] in
            (set)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(get)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(list)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
        esac
    ;;
esac
;;
(conversation)
_arguments "${_arguments_options[@]}" : \
":: :_forge__help__conversation_commands" \
"*::: :->conversation" \
&& ret=0

    case $state in
    (conversation)
        words=($line[1] "${words[@]}")
        (( CURRENT += 1 ))
        curcontext="${curcontext%:*:*}:forge-help-conversation-command-$line[1]:"
        case $line[1] in
            (list)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(new)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(dump)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(compact)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(retry)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(resume)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(show)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(info)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(stats)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(clone)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(delete)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
        esac
    ;;
esac
;;
(commit)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(mcp)
_arguments "${_arguments_options[@]}" : \
":: :_forge__help__mcp_commands" \
"*::: :->mcp" \
&& ret=0

    case $state in
    (mcp)
        words=($line[1] "${words[@]}")
        (( CURRENT += 1 ))
        curcontext="${curcontext%:*:*}:forge-help-mcp-command-$line[1]:"
        case $line[1] in
            (import)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(list)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(remove)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(show)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(reload)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
        esac
    ;;
esac
;;
(suggest)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(provider)
_arguments "${_arguments_options[@]}" : \
":: :_forge__help__provider_commands" \
"*::: :->provider" \
&& ret=0

    case $state in
    (provider)
        words=($line[1] "${words[@]}")
        (( CURRENT += 1 ))
        curcontext="${curcontext%:*:*}:forge-help-provider-command-$line[1]:"
        case $line[1] in
            (login)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(logout)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(list)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
        esac
    ;;
esac
;;
(cmd)
_arguments "${_arguments_options[@]}" : \
":: :_forge__help__cmd_commands" \
"*::: :->cmd" \
&& ret=0

    case $state in
    (cmd)
        words=($line[1] "${words[@]}")
        (( CURRENT += 1 ))
        curcontext="${curcontext%:*:*}:forge-help-cmd-command-$line[1]:"
        case $line[1] in
            (list)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
        esac
    ;;
esac
;;
(workspace)
_arguments "${_arguments_options[@]}" : \
":: :_forge__help__workspace_commands" \
"*::: :->workspace" \
&& ret=0

    case $state in
    (workspace)
        words=($line[1] "${words[@]}")
        (( CURRENT += 1 ))
        curcontext="${curcontext%:*:*}:forge-help-workspace-command-$line[1]:"
        case $line[1] in
            (sync)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(list)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(query)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(info)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(delete)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
        esac
    ;;
esac
;;
(data)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
(help)
_arguments "${_arguments_options[@]}" : \
&& ret=0
;;
        esac
    ;;
esac
;;
        esac
    ;;
esac
}

(( $+functions[_forge_commands] )) ||
_forge_commands() {
    local commands; commands=(
'agent:Manage agents' \
'zsh:Generate shell extension scripts' \
'list:List agents, models, providers, tools, or MCP servers' \
'banner:Display the banner with version information' \
'info:Show configuration, active model, and environment status' \
'env:Display environment information' \
'config:Get, set, or list configuration values' \
'conversation:Manage conversation history and state' \
'commit:Generate and optionally commit changes with AI-generated message' \
'mcp:Manage Model Context Protocol servers' \
'suggest:Suggest shell commands from natural language' \
'provider:Manage API provider authentication' \
'cmd:Run or list custom commands' \
'workspace:Manage workspaces for semantic search' \
'data:Process JSONL data through LLM with schema-constrained tools' \
'help:Print this message or the help of the given subcommand(s)' \
    )
    _describe -t commands 'forge commands' commands "$@"
}
(( $+functions[_forge__agent_commands] )) ||
_forge__agent_commands() {
    local commands; commands=(
'list:List available agents' \
'help:Print this message or the help of the given subcommand(s)' \
    )
    _describe -t commands 'forge agent commands' commands "$@"
}
(( $+functions[_forge__agent__help_commands] )) ||
_forge__agent__help_commands() {
    local commands; commands=(
'list:List available agents' \
'help:Print this message or the help of the given subcommand(s)' \
    )
    _describe -t commands 'forge agent help commands' commands "$@"
}
(( $+functions[_forge__agent__help__help_commands] )) ||
_forge__agent__help__help_commands() {
    local commands; commands=()
    _describe -t commands 'forge agent help help commands' commands "$@"
}
(( $+functions[_forge__agent__help__list_commands] )) ||
_forge__agent__help__list_commands() {
    local commands; commands=()
    _describe -t commands 'forge agent help list commands' commands "$@"
}
(( $+functions[_forge__agent__list_commands] )) ||
_forge__agent__list_commands() {
    local commands; commands=()
    _describe -t commands 'forge agent list commands' commands "$@"
}
(( $+functions[_forge__banner_commands] )) ||
_forge__banner_commands() {
    local commands; commands=()
    _describe -t commands 'forge banner commands' commands "$@"
}
(( $+functions[_forge__cmd_commands] )) ||
_forge__cmd_commands() {
    local commands; commands=(
'list:List all available custom commands' \
'help:Print this message or the help of the given subcommand(s)' \
    )
    _describe -t commands 'forge cmd commands' commands "$@"
}
(( $+functions[_forge__cmd__help_commands] )) ||
_forge__cmd__help_commands() {
    local commands; commands=(
'list:List all available custom commands' \
'help:Print this message or the help of the given subcommand(s)' \
    )
    _describe -t commands 'forge cmd help commands' commands "$@"
}
(( $+functions[_forge__cmd__help__help_commands] )) ||
_forge__cmd__help__help_commands() {
    local commands; commands=()
    _describe -t commands 'forge cmd help help commands' commands "$@"
}
(( $+functions[_forge__cmd__help__list_commands] )) ||
_forge__cmd__help__list_commands() {
    local commands; commands=()
    _describe -t commands 'forge cmd help list commands' commands "$@"
}
(( $+functions[_forge__cmd__list_commands] )) ||
_forge__cmd__list_commands() {
    local commands; commands=()
    _describe -t commands 'forge cmd list commands' commands "$@"
}
(( $+functions[_forge__commit_commands] )) ||
_forge__commit_commands() {
    local commands; commands=()
    _describe -t commands 'forge commit commands' commands "$@"
}
(( $+functions[_forge__config_commands] )) ||
_forge__config_commands() {
    local commands; commands=(
'set:Set a configuration value' \
'get:Get a configuration value' \
'list:List configuration values' \
'help:Print this message or the help of the given subcommand(s)' \
    )
    _describe -t commands 'forge config commands' commands "$@"
}
(( $+functions[_forge__config__get_commands] )) ||
_forge__config__get_commands() {
    local commands; commands=()
    _describe -t commands 'forge config get commands' commands "$@"
}
(( $+functions[_forge__config__help_commands] )) ||
_forge__config__help_commands() {
    local commands; commands=(
'set:Set a configuration value' \
'get:Get a configuration value' \
'list:List configuration values' \
'help:Print this message or the help of the given subcommand(s)' \
    )
    _describe -t commands 'forge config help commands' commands "$@"
}
(( $+functions[_forge__config__help__get_commands] )) ||
_forge__config__help__get_commands() {
    local commands; commands=()
    _describe -t commands 'forge config help get commands' commands "$@"
}
(( $+functions[_forge__config__help__help_commands] )) ||
_forge__config__help__help_commands() {
    local commands; commands=()
    _describe -t commands 'forge config help help commands' commands "$@"
}
(( $+functions[_forge__config__help__list_commands] )) ||
_forge__config__help__list_commands() {
    local commands; commands=()
    _describe -t commands 'forge config help list commands' commands "$@"
}
(( $+functions[_forge__config__help__set_commands] )) ||
_forge__config__help__set_commands() {
    local commands; commands=()
    _describe -t commands 'forge config help set commands' commands "$@"
}
(( $+functions[_forge__config__list_commands] )) ||
_forge__config__list_commands() {
    local commands; commands=()
    _describe -t commands 'forge config list commands' commands "$@"
}
(( $+functions[_forge__config__set_commands] )) ||
_forge__config__set_commands() {
    local commands; commands=()
    _describe -t commands 'forge config set commands' commands "$@"
}
(( $+functions[_forge__conversation_commands] )) ||
_forge__conversation_commands() {
    local commands; commands=(
'list:List conversation history' \
'new:Create a new conversation' \
'dump:Export conversation as JSON or HTML' \
'compact:Compact conversation to reduce token usage' \
'retry:Retry last command without modifying context' \
'resume:Resume conversation in interactive mode' \
'show:Show last assistant message' \
'info:Show conversation details' \
'stats:Show conversation statistics' \
'clone:Clone conversation with a new ID' \
'delete:Delete a conversation permanently' \
'help:Print this message or the help of the given subcommand(s)' \
    )
    _describe -t commands 'forge conversation commands' commands "$@"
}
(( $+functions[_forge__conversation__clone_commands] )) ||
_forge__conversation__clone_commands() {
    local commands; commands=()
    _describe -t commands 'forge conversation clone commands' commands "$@"
}
(( $+functions[_forge__conversation__compact_commands] )) ||
_forge__conversation__compact_commands() {
    local commands; commands=()
    _describe -t commands 'forge conversation compact commands' commands "$@"
}
(( $+functions[_forge__conversation__delete_commands] )) ||
_forge__conversation__delete_commands() {
    local commands; commands=()
    _describe -t commands 'forge conversation delete commands' commands "$@"
}
(( $+functions[_forge__conversation__dump_commands] )) ||
_forge__conversation__dump_commands() {
    local commands; commands=()
    _describe -t commands 'forge conversation dump commands' commands "$@"
}
(( $+functions[_forge__conversation__help_commands] )) ||
_forge__conversation__help_commands() {
    local commands; commands=(
'list:List conversation history' \
'new:Create a new conversation' \
'dump:Export conversation as JSON or HTML' \
'compact:Compact conversation to reduce token usage' \
'retry:Retry last command without modifying context' \
'resume:Resume conversation in interactive mode' \
'show:Show last assistant message' \
'info:Show conversation details' \
'stats:Show conversation statistics' \
'clone:Clone conversation with a new ID' \
'delete:Delete a conversation permanently' \
'help:Print this message or the help of the given subcommand(s)' \
    )
    _describe -t commands 'forge conversation help commands' commands "$@"
}
(( $+functions[_forge__conversation__help__clone_commands] )) ||
_forge__conversation__help__clone_commands() {
    local commands; commands=()
    _describe -t commands 'forge conversation help clone commands' commands "$@"
}
(( $+functions[_forge__conversation__help__compact_commands] )) ||
_forge__conversation__help__compact_commands() {
    local commands; commands=()
    _describe -t commands 'forge conversation help compact commands' commands "$@"
}
(( $+functions[_forge__conversation__help__delete_commands] )) ||
_forge__conversation__help__delete_commands() {
    local commands; commands=()
    _describe -t commands 'forge conversation help delete commands' commands "$@"
}
(( $+functions[_forge__conversation__help__dump_commands] )) ||
_forge__conversation__help__dump_commands() {
    local commands; commands=()
    _describe -t commands 'forge conversation help dump commands' commands "$@"
}
(( $+functions[_forge__conversation__help__help_commands] )) ||
_forge__conversation__help__help_commands() {
    local commands; commands=()
    _describe -t commands 'forge conversation help help commands' commands "$@"
}
(( $+functions[_forge__conversation__help__info_commands] )) ||
_forge__conversation__help__info_commands() {
    local commands; commands=()
    _describe -t commands 'forge conversation help info commands' commands "$@"
}
(( $+functions[_forge__conversation__help__list_commands] )) ||
_forge__conversation__help__list_commands() {
    local commands; commands=()
    _describe -t commands 'forge conversation help list commands' commands "$@"
}
(( $+functions[_forge__conversation__help__new_commands] )) ||
_forge__conversation__help__new_commands() {
    local commands; commands=()
    _describe -t commands 'forge conversation help new commands' commands "$@"
}
(( $+functions[_forge__conversation__help__resume_commands] )) ||
_forge__conversation__help__resume_commands() {
    local commands; commands=()
    _describe -t commands 'forge conversation help resume commands' commands "$@"
}
(( $+functions[_forge__conversation__help__retry_commands] )) ||
_forge__conversation__help__retry_commands() {
    local commands; commands=()
    _describe -t commands 'forge conversation help retry commands' commands "$@"
}
(( $+functions[_forge__conversation__help__show_commands] )) ||
_forge__conversation__help__show_commands() {
    local commands; commands=()
    _describe -t commands 'forge conversation help show commands' commands "$@"
}
(( $+functions[_forge__conversation__help__stats_commands] )) ||
_forge__conversation__help__stats_commands() {
    local commands; commands=()
    _describe -t commands 'forge conversation help stats commands' commands "$@"
}
(( $+functions[_forge__conversation__info_commands] )) ||
_forge__conversation__info_commands() {
    local commands; commands=()
    _describe -t commands 'forge conversation info commands' commands "$@"
}
(( $+functions[_forge__conversation__list_commands] )) ||
_forge__conversation__list_commands() {
    local commands; commands=()
    _describe -t commands 'forge conversation list commands' commands "$@"
}
(( $+functions[_forge__conversation__new_commands] )) ||
_forge__conversation__new_commands() {
    local commands; commands=()
    _describe -t commands 'forge conversation new commands' commands "$@"
}
(( $+functions[_forge__conversation__resume_commands] )) ||
_forge__conversation__resume_commands() {
    local commands; commands=()
    _describe -t commands 'forge conversation resume commands' commands "$@"
}
(( $+functions[_forge__conversation__retry_commands] )) ||
_forge__conversation__retry_commands() {
    local commands; commands=()
    _describe -t commands 'forge conversation retry commands' commands "$@"
}
(( $+functions[_forge__conversation__show_commands] )) ||
_forge__conversation__show_commands() {
    local commands; commands=()
    _describe -t commands 'forge conversation show commands' commands "$@"
}
(( $+functions[_forge__conversation__stats_commands] )) ||
_forge__conversation__stats_commands() {
    local commands; commands=()
    _describe -t commands 'forge conversation stats commands' commands "$@"
}
(( $+functions[_forge__data_commands] )) ||
_forge__data_commands() {
    local commands; commands=()
    _describe -t commands 'forge data commands' commands "$@"
}
(( $+functions[_forge__env_commands] )) ||
_forge__env_commands() {
    local commands; commands=()
    _describe -t commands 'forge env commands' commands "$@"
}
(( $+functions[_forge__help_commands] )) ||
_forge__help_commands() {
    local commands; commands=(
'agent:Manage agents' \
'zsh:Generate shell extension scripts' \
'list:List agents, models, providers, tools, or MCP servers' \
'banner:Display the banner with version information' \
'info:Show configuration, active model, and environment status' \
'env:Display environment information' \
'config:Get, set, or list configuration values' \
'conversation:Manage conversation history and state' \
'commit:Generate and optionally commit changes with AI-generated message' \
'mcp:Manage Model Context Protocol servers' \
'suggest:Suggest shell commands from natural language' \
'provider:Manage API provider authentication' \
'cmd:Run or list custom commands' \
'workspace:Manage workspaces for semantic search' \
'data:Process JSONL data through LLM with schema-constrained tools' \
'help:Print this message or the help of the given subcommand(s)' \
    )
    _describe -t commands 'forge help commands' commands "$@"
}
(( $+functions[_forge__help__agent_commands] )) ||
_forge__help__agent_commands() {
    local commands; commands=(
'list:List available agents' \
    )
    _describe -t commands 'forge help agent commands' commands "$@"
}
(( $+functions[_forge__help__agent__list_commands] )) ||
_forge__help__agent__list_commands() {
    local commands; commands=()
    _describe -t commands 'forge help agent list commands' commands "$@"
}
(( $+functions[_forge__help__banner_commands] )) ||
_forge__help__banner_commands() {
    local commands; commands=()
    _describe -t commands 'forge help banner commands' commands "$@"
}
(( $+functions[_forge__help__cmd_commands] )) ||
_forge__help__cmd_commands() {
    local commands; commands=(
'list:List all available custom commands' \
    )
    _describe -t commands 'forge help cmd commands' commands "$@"
}
(( $+functions[_forge__help__cmd__list_commands] )) ||
_forge__help__cmd__list_commands() {
    local commands; commands=()
    _describe -t commands 'forge help cmd list commands' commands "$@"
}
(( $+functions[_forge__help__commit_commands] )) ||
_forge__help__commit_commands() {
    local commands; commands=()
    _describe -t commands 'forge help commit commands' commands "$@"
}
(( $+functions[_forge__help__config_commands] )) ||
_forge__help__config_commands() {
    local commands; commands=(
'set:Set a configuration value' \
'get:Get a configuration value' \
'list:List configuration values' \
    )
    _describe -t commands 'forge help config commands' commands "$@"
}
(( $+functions[_forge__help__config__get_commands] )) ||
_forge__help__config__get_commands() {
    local commands; commands=()
    _describe -t commands 'forge help config get commands' commands "$@"
}
(( $+functions[_forge__help__config__list_commands] )) ||
_forge__help__config__list_commands() {
    local commands; commands=()
    _describe -t commands 'forge help config list commands' commands "$@"
}
(( $+functions[_forge__help__config__set_commands] )) ||
_forge__help__config__set_commands() {
    local commands; commands=()
    _describe -t commands 'forge help config set commands' commands "$@"
}
(( $+functions[_forge__help__conversation_commands] )) ||
_forge__help__conversation_commands() {
    local commands; commands=(
'list:List conversation history' \
'new:Create a new conversation' \
'dump:Export conversation as JSON or HTML' \
'compact:Compact conversation to reduce token usage' \
'retry:Retry last command without modifying context' \
'resume:Resume conversation in interactive mode' \
'show:Show last assistant message' \
'info:Show conversation details' \
'stats:Show conversation statistics' \
'clone:Clone conversation with a new ID' \
'delete:Delete a conversation permanently' \
    )
    _describe -t commands 'forge help conversation commands' commands "$@"
}
(( $+functions[_forge__help__conversation__clone_commands] )) ||
_forge__help__conversation__clone_commands() {
    local commands; commands=()
    _describe -t commands 'forge help conversation clone commands' commands "$@"
}
(( $+functions[_forge__help__conversation__compact_commands] )) ||
_forge__help__conversation__compact_commands() {
    local commands; commands=()
    _describe -t commands 'forge help conversation compact commands' commands "$@"
}
(( $+functions[_forge__help__conversation__delete_commands] )) ||
_forge__help__conversation__delete_commands() {
    local commands; commands=()
    _describe -t commands 'forge help conversation delete commands' commands "$@"
}
(( $+functions[_forge__help__conversation__dump_commands] )) ||
_forge__help__conversation__dump_commands() {
    local commands; commands=()
    _describe -t commands 'forge help conversation dump commands' commands "$@"
}
(( $+functions[_forge__help__conversation__info_commands] )) ||
_forge__help__conversation__info_commands() {
    local commands; commands=()
    _describe -t commands 'forge help conversation info commands' commands "$@"
}
(( $+functions[_forge__help__conversation__list_commands] )) ||
_forge__help__conversation__list_commands() {
    local commands; commands=()
    _describe -t commands 'forge help conversation list commands' commands "$@"
}
(( $+functions[_forge__help__conversation__new_commands] )) ||
_forge__help__conversation__new_commands() {
    local commands; commands=()
    _describe -t commands 'forge help conversation new commands' commands "$@"
}
(( $+functions[_forge__help__conversation__resume_commands] )) ||
_forge__help__conversation__resume_commands() {
    local commands; commands=()
    _describe -t commands 'forge help conversation resume commands' commands "$@"
}
(( $+functions[_forge__help__conversation__retry_commands] )) ||
_forge__help__conversation__retry_commands() {
    local commands; commands=()
    _describe -t commands 'forge help conversation retry commands' commands "$@"
}
(( $+functions[_forge__help__conversation__show_commands] )) ||
_forge__help__conversation__show_commands() {
    local commands; commands=()
    _describe -t commands 'forge help conversation show commands' commands "$@"
}
(( $+functions[_forge__help__conversation__stats_commands] )) ||
_forge__help__conversation__stats_commands() {
    local commands; commands=()
    _describe -t commands 'forge help conversation stats commands' commands "$@"
}
(( $+functions[_forge__help__data_commands] )) ||
_forge__help__data_commands() {
    local commands; commands=()
    _describe -t commands 'forge help data commands' commands "$@"
}
(( $+functions[_forge__help__env_commands] )) ||
_forge__help__env_commands() {
    local commands; commands=()
    _describe -t commands 'forge help env commands' commands "$@"
}
(( $+functions[_forge__help__help_commands] )) ||
_forge__help__help_commands() {
    local commands; commands=()
    _describe -t commands 'forge help help commands' commands "$@"
}
(( $+functions[_forge__help__info_commands] )) ||
_forge__help__info_commands() {
    local commands; commands=()
    _describe -t commands 'forge help info commands' commands "$@"
}
(( $+functions[_forge__help__list_commands] )) ||
_forge__help__list_commands() {
    local commands; commands=(
'agent:List available agents' \
'provider:List available API providers' \
'model:List available models' \
'command:List available commands' \
'config:List configuration values' \
'tool:List tools for a specific agent' \
'mcp:List MCP servers' \
'conversation:List conversation history' \
'cmd:List custom commands' \
'skill:List available skills' \
    )
    _describe -t commands 'forge help list commands' commands "$@"
}
(( $+functions[_forge__help__list__agent_commands] )) ||
_forge__help__list__agent_commands() {
    local commands; commands=()
    _describe -t commands 'forge help list agent commands' commands "$@"
}
(( $+functions[_forge__help__list__cmd_commands] )) ||
_forge__help__list__cmd_commands() {
    local commands; commands=()
    _describe -t commands 'forge help list cmd commands' commands "$@"
}
(( $+functions[_forge__help__list__command_commands] )) ||
_forge__help__list__command_commands() {
    local commands; commands=()
    _describe -t commands 'forge help list command commands' commands "$@"
}
(( $+functions[_forge__help__list__config_commands] )) ||
_forge__help__list__config_commands() {
    local commands; commands=()
    _describe -t commands 'forge help list config commands' commands "$@"
}
(( $+functions[_forge__help__list__conversation_commands] )) ||
_forge__help__list__conversation_commands() {
    local commands; commands=()
    _describe -t commands 'forge help list conversation commands' commands "$@"
}
(( $+functions[_forge__help__list__mcp_commands] )) ||
_forge__help__list__mcp_commands() {
    local commands; commands=()
    _describe -t commands 'forge help list mcp commands' commands "$@"
}
(( $+functions[_forge__help__list__model_commands] )) ||
_forge__help__list__model_commands() {
    local commands; commands=()
    _describe -t commands 'forge help list model commands' commands "$@"
}
(( $+functions[_forge__help__list__provider_commands] )) ||
_forge__help__list__provider_commands() {
    local commands; commands=()
    _describe -t commands 'forge help list provider commands' commands "$@"
}
(( $+functions[_forge__help__list__skill_commands] )) ||
_forge__help__list__skill_commands() {
    local commands; commands=()
    _describe -t commands 'forge help list skill commands' commands "$@"
}
(( $+functions[_forge__help__list__tool_commands] )) ||
_forge__help__list__tool_commands() {
    local commands; commands=()
    _describe -t commands 'forge help list tool commands' commands "$@"
}
(( $+functions[_forge__help__mcp_commands] )) ||
_forge__help__mcp_commands() {
    local commands; commands=(
'import:Import server configuration from JSON' \
'list:List configured servers' \
'remove:Remove a configured server' \
'show:Show server configuration details' \
'reload:Reload servers and rebuild caches' \
    )
    _describe -t commands 'forge help mcp commands' commands "$@"
}
(( $+functions[_forge__help__mcp__import_commands] )) ||
_forge__help__mcp__import_commands() {
    local commands; commands=()
    _describe -t commands 'forge help mcp import commands' commands "$@"
}
(( $+functions[_forge__help__mcp__list_commands] )) ||
_forge__help__mcp__list_commands() {
    local commands; commands=()
    _describe -t commands 'forge help mcp list commands' commands "$@"
}
(( $+functions[_forge__help__mcp__reload_commands] )) ||
_forge__help__mcp__reload_commands() {
    local commands; commands=()
    _describe -t commands 'forge help mcp reload commands' commands "$@"
}
(( $+functions[_forge__help__mcp__remove_commands] )) ||
_forge__help__mcp__remove_commands() {
    local commands; commands=()
    _describe -t commands 'forge help mcp remove commands' commands "$@"
}
(( $+functions[_forge__help__mcp__show_commands] )) ||
_forge__help__mcp__show_commands() {
    local commands; commands=()
    _describe -t commands 'forge help mcp show commands' commands "$@"
}
(( $+functions[_forge__help__provider_commands] )) ||
_forge__help__provider_commands() {
    local commands; commands=(
'login:Authenticate with an API provider' \
'logout:Remove provider credentials' \
'list:List available providers' \
    )
    _describe -t commands 'forge help provider commands' commands "$@"
}
(( $+functions[_forge__help__provider__list_commands] )) ||
_forge__help__provider__list_commands() {
    local commands; commands=()
    _describe -t commands 'forge help provider list commands' commands "$@"
}
(( $+functions[_forge__help__provider__login_commands] )) ||
_forge__help__provider__login_commands() {
    local commands; commands=()
    _describe -t commands 'forge help provider login commands' commands "$@"
}
(( $+functions[_forge__help__provider__logout_commands] )) ||
_forge__help__provider__logout_commands() {
    local commands; commands=()
    _describe -t commands 'forge help provider logout commands' commands "$@"
}
(( $+functions[_forge__help__suggest_commands] )) ||
_forge__help__suggest_commands() {
    local commands; commands=()
    _describe -t commands 'forge help suggest commands' commands "$@"
}
(( $+functions[_forge__help__workspace_commands] )) ||
_forge__help__workspace_commands() {
    local commands; commands=(
'sync:Synchronize a directory for semantic search' \
'list:List all workspaces' \
'query:Query the codebase' \
'info:Show workspace information for an indexed directory' \
'delete:Delete a workspace' \
    )
    _describe -t commands 'forge help workspace commands' commands "$@"
}
(( $+functions[_forge__help__workspace__delete_commands] )) ||
_forge__help__workspace__delete_commands() {
    local commands; commands=()
    _describe -t commands 'forge help workspace delete commands' commands "$@"
}
(( $+functions[_forge__help__workspace__info_commands] )) ||
_forge__help__workspace__info_commands() {
    local commands; commands=()
    _describe -t commands 'forge help workspace info commands' commands "$@"
}
(( $+functions[_forge__help__workspace__list_commands] )) ||
_forge__help__workspace__list_commands() {
    local commands; commands=()
    _describe -t commands 'forge help workspace list commands' commands "$@"
}
(( $+functions[_forge__help__workspace__query_commands] )) ||
_forge__help__workspace__query_commands() {
    local commands; commands=()
    _describe -t commands 'forge help workspace query commands' commands "$@"
}
(( $+functions[_forge__help__workspace__sync_commands] )) ||
_forge__help__workspace__sync_commands() {
    local commands; commands=()
    _describe -t commands 'forge help workspace sync commands' commands "$@"
}
(( $+functions[_forge__help__zsh_commands] )) ||
_forge__help__zsh_commands() {
    local commands; commands=(
'plugin:Generate shell plugin script' \
'theme:Generate shell theme' \
'doctor:Run diagnostics on shell environment' \
'rprompt:Get rprompt information (model and conversation stats) for shell integration' \
    )
    _describe -t commands 'forge help zsh commands' commands "$@"
}
(( $+functions[_forge__help__zsh__doctor_commands] )) ||
_forge__help__zsh__doctor_commands() {
    local commands; commands=()
    _describe -t commands 'forge help zsh doctor commands' commands "$@"
}
(( $+functions[_forge__help__zsh__plugin_commands] )) ||
_forge__help__zsh__plugin_commands() {
    local commands; commands=()
    _describe -t commands 'forge help zsh plugin commands' commands "$@"
}
(( $+functions[_forge__help__zsh__rprompt_commands] )) ||
_forge__help__zsh__rprompt_commands() {
    local commands; commands=()
    _describe -t commands 'forge help zsh rprompt commands' commands "$@"
}
(( $+functions[_forge__help__zsh__theme_commands] )) ||
_forge__help__zsh__theme_commands() {
    local commands; commands=()
    _describe -t commands 'forge help zsh theme commands' commands "$@"
}
(( $+functions[_forge__info_commands] )) ||
_forge__info_commands() {
    local commands; commands=()
    _describe -t commands 'forge info commands' commands "$@"
}
(( $+functions[_forge__list_commands] )) ||
_forge__list_commands() {
    local commands; commands=(
'agent:List available agents' \
'provider:List available API providers' \
'model:List available models' \
'command:List available commands' \
'config:List configuration values' \
'tool:List tools for a specific agent' \
'mcp:List MCP servers' \
'conversation:List conversation history' \
'cmd:List custom commands' \
'skill:List available skills' \
'help:Print this message or the help of the given subcommand(s)' \
    )
    _describe -t commands 'forge list commands' commands "$@"
}
(( $+functions[_forge__list__agent_commands] )) ||
_forge__list__agent_commands() {
    local commands; commands=()
    _describe -t commands 'forge list agent commands' commands "$@"
}
(( $+functions[_forge__list__cmd_commands] )) ||
_forge__list__cmd_commands() {
    local commands; commands=()
    _describe -t commands 'forge list cmd commands' commands "$@"
}
(( $+functions[_forge__list__command_commands] )) ||
_forge__list__command_commands() {
    local commands; commands=()
    _describe -t commands 'forge list command commands' commands "$@"
}
(( $+functions[_forge__list__config_commands] )) ||
_forge__list__config_commands() {
    local commands; commands=()
    _describe -t commands 'forge list config commands' commands "$@"
}
(( $+functions[_forge__list__conversation_commands] )) ||
_forge__list__conversation_commands() {
    local commands; commands=()
    _describe -t commands 'forge list conversation commands' commands "$@"
}
(( $+functions[_forge__list__help_commands] )) ||
_forge__list__help_commands() {
    local commands; commands=(
'agent:List available agents' \
'provider:List available API providers' \
'model:List available models' \
'command:List available commands' \
'config:List configuration values' \
'tool:List tools for a specific agent' \
'mcp:List MCP servers' \
'conversation:List conversation history' \
'cmd:List custom commands' \
'skill:List available skills' \
'help:Print this message or the help of the given subcommand(s)' \
    )
    _describe -t commands 'forge list help commands' commands "$@"
}
(( $+functions[_forge__list__help__agent_commands] )) ||
_forge__list__help__agent_commands() {
    local commands; commands=()
    _describe -t commands 'forge list help agent commands' commands "$@"
}
(( $+functions[_forge__list__help__cmd_commands] )) ||
_forge__list__help__cmd_commands() {
    local commands; commands=()
    _describe -t commands 'forge list help cmd commands' commands "$@"
}
(( $+functions[_forge__list__help__command_commands] )) ||
_forge__list__help__command_commands() {
    local commands; commands=()
    _describe -t commands 'forge list help command commands' commands "$@"
}
(( $+functions[_forge__list__help__config_commands] )) ||
_forge__list__help__config_commands() {
    local commands; commands=()
    _describe -t commands 'forge list help config commands' commands "$@"
}
(( $+functions[_forge__list__help__conversation_commands] )) ||
_forge__list__help__conversation_commands() {
    local commands; commands=()
    _describe -t commands 'forge list help conversation commands' commands "$@"
}
(( $+functions[_forge__list__help__help_commands] )) ||
_forge__list__help__help_commands() {
    local commands; commands=()
    _describe -t commands 'forge list help help commands' commands "$@"
}
(( $+functions[_forge__list__help__mcp_commands] )) ||
_forge__list__help__mcp_commands() {
    local commands; commands=()
    _describe -t commands 'forge list help mcp commands' commands "$@"
}
(( $+functions[_forge__list__help__model_commands] )) ||
_forge__list__help__model_commands() {
    local commands; commands=()
    _describe -t commands 'forge list help model commands' commands "$@"
}
(( $+functions[_forge__list__help__provider_commands] )) ||
_forge__list__help__provider_commands() {
    local commands; commands=()
    _describe -t commands 'forge list help provider commands' commands "$@"
}
(( $+functions[_forge__list__help__skill_commands] )) ||
_forge__list__help__skill_commands() {
    local commands; commands=()
    _describe -t commands 'forge list help skill commands' commands "$@"
}
(( $+functions[_forge__list__help__tool_commands] )) ||
_forge__list__help__tool_commands() {
    local commands; commands=()
    _describe -t commands 'forge list help tool commands' commands "$@"
}
(( $+functions[_forge__list__mcp_commands] )) ||
_forge__list__mcp_commands() {
    local commands; commands=()
    _describe -t commands 'forge list mcp commands' commands "$@"
}
(( $+functions[_forge__list__model_commands] )) ||
_forge__list__model_commands() {
    local commands; commands=()
    _describe -t commands 'forge list model commands' commands "$@"
}
(( $+functions[_forge__list__provider_commands] )) ||
_forge__list__provider_commands() {
    local commands; commands=()
    _describe -t commands 'forge list provider commands' commands "$@"
}
(( $+functions[_forge__list__skill_commands] )) ||
_forge__list__skill_commands() {
    local commands; commands=()
    _describe -t commands 'forge list skill commands' commands "$@"
}
(( $+functions[_forge__list__tool_commands] )) ||
_forge__list__tool_commands() {
    local commands; commands=()
    _describe -t commands 'forge list tool commands' commands "$@"
}
(( $+functions[_forge__mcp_commands] )) ||
_forge__mcp_commands() {
    local commands; commands=(
'import:Import server configuration from JSON' \
'list:List configured servers' \
'remove:Remove a configured server' \
'show:Show server configuration details' \
'reload:Reload servers and rebuild caches' \
'help:Print this message or the help of the given subcommand(s)' \
    )
    _describe -t commands 'forge mcp commands' commands "$@"
}
(( $+functions[_forge__mcp__help_commands] )) ||
_forge__mcp__help_commands() {
    local commands; commands=(
'import:Import server configuration from JSON' \
'list:List configured servers' \
'remove:Remove a configured server' \
'show:Show server configuration details' \
'reload:Reload servers and rebuild caches' \
'help:Print this message or the help of the given subcommand(s)' \
    )
    _describe -t commands 'forge mcp help commands' commands "$@"
}
(( $+functions[_forge__mcp__help__help_commands] )) ||
_forge__mcp__help__help_commands() {
    local commands; commands=()
    _describe -t commands 'forge mcp help help commands' commands "$@"
}
(( $+functions[_forge__mcp__help__import_commands] )) ||
_forge__mcp__help__import_commands() {
    local commands; commands=()
    _describe -t commands 'forge mcp help import commands' commands "$@"
}
(( $+functions[_forge__mcp__help__list_commands] )) ||
_forge__mcp__help__list_commands() {
    local commands; commands=()
    _describe -t commands 'forge mcp help list commands' commands "$@"
}
(( $+functions[_forge__mcp__help__reload_commands] )) ||
_forge__mcp__help__reload_commands() {
    local commands; commands=()
    _describe -t commands 'forge mcp help reload commands' commands "$@"
}
(( $+functions[_forge__mcp__help__remove_commands] )) ||
_forge__mcp__help__remove_commands() {
    local commands; commands=()
    _describe -t commands 'forge mcp help remove commands' commands "$@"
}
(( $+functions[_forge__mcp__help__show_commands] )) ||
_forge__mcp__help__show_commands() {
    local commands; commands=()
    _describe -t commands 'forge mcp help show commands' commands "$@"
}
(( $+functions[_forge__mcp__import_commands] )) ||
_forge__mcp__import_commands() {
    local commands; commands=()
    _describe -t commands 'forge mcp import commands' commands "$@"
}
(( $+functions[_forge__mcp__list_commands] )) ||
_forge__mcp__list_commands() {
    local commands; commands=()
    _describe -t commands 'forge mcp list commands' commands "$@"
}
(( $+functions[_forge__mcp__reload_commands] )) ||
_forge__mcp__reload_commands() {
    local commands; commands=()
    _describe -t commands 'forge mcp reload commands' commands "$@"
}
(( $+functions[_forge__mcp__remove_commands] )) ||
_forge__mcp__remove_commands() {
    local commands; commands=()
    _describe -t commands 'forge mcp remove commands' commands "$@"
}
(( $+functions[_forge__mcp__show_commands] )) ||
_forge__mcp__show_commands() {
    local commands; commands=()
    _describe -t commands 'forge mcp show commands' commands "$@"
}
(( $+functions[_forge__provider_commands] )) ||
_forge__provider_commands() {
    local commands; commands=(
'login:Authenticate with an API provider' \
'logout:Remove provider credentials' \
'list:List available providers' \
'help:Print this message or the help of the given subcommand(s)' \
    )
    _describe -t commands 'forge provider commands' commands "$@"
}
(( $+functions[_forge__provider__help_commands] )) ||
_forge__provider__help_commands() {
    local commands; commands=(
'login:Authenticate with an API provider' \
'logout:Remove provider credentials' \
'list:List available providers' \
'help:Print this message or the help of the given subcommand(s)' \
    )
    _describe -t commands 'forge provider help commands' commands "$@"
}
(( $+functions[_forge__provider__help__help_commands] )) ||
_forge__provider__help__help_commands() {
    local commands; commands=()
    _describe -t commands 'forge provider help help commands' commands "$@"
}
(( $+functions[_forge__provider__help__list_commands] )) ||
_forge__provider__help__list_commands() {
    local commands; commands=()
    _describe -t commands 'forge provider help list commands' commands "$@"
}
(( $+functions[_forge__provider__help__login_commands] )) ||
_forge__provider__help__login_commands() {
    local commands; commands=()
    _describe -t commands 'forge provider help login commands' commands "$@"
}
(( $+functions[_forge__provider__help__logout_commands] )) ||
_forge__provider__help__logout_commands() {
    local commands; commands=()
    _describe -t commands 'forge provider help logout commands' commands "$@"
}
(( $+functions[_forge__provider__list_commands] )) ||
_forge__provider__list_commands() {
    local commands; commands=()
    _describe -t commands 'forge provider list commands' commands "$@"
}
(( $+functions[_forge__provider__login_commands] )) ||
_forge__provider__login_commands() {
    local commands; commands=()
    _describe -t commands 'forge provider login commands' commands "$@"
}
(( $+functions[_forge__provider__logout_commands] )) ||
_forge__provider__logout_commands() {
    local commands; commands=()
    _describe -t commands 'forge provider logout commands' commands "$@"
}
(( $+functions[_forge__suggest_commands] )) ||
_forge__suggest_commands() {
    local commands; commands=()
    _describe -t commands 'forge suggest commands' commands "$@"
}
(( $+functions[_forge__workspace_commands] )) ||
_forge__workspace_commands() {
    local commands; commands=(
'sync:Synchronize a directory for semantic search' \
'list:List all workspaces' \
'query:Query the codebase' \
'info:Show workspace information for an indexed directory' \
'delete:Delete a workspace' \
'help:Print this message or the help of the given subcommand(s)' \
    )
    _describe -t commands 'forge workspace commands' commands "$@"
}
(( $+functions[_forge__workspace__delete_commands] )) ||
_forge__workspace__delete_commands() {
    local commands; commands=()
    _describe -t commands 'forge workspace delete commands' commands "$@"
}
(( $+functions[_forge__workspace__help_commands] )) ||
_forge__workspace__help_commands() {
    local commands; commands=(
'sync:Synchronize a directory for semantic search' \
'list:List all workspaces' \
'query:Query the codebase' \
'info:Show workspace information for an indexed directory' \
'delete:Delete a workspace' \
'help:Print this message or the help of the given subcommand(s)' \
    )
    _describe -t commands 'forge workspace help commands' commands "$@"
}
(( $+functions[_forge__workspace__help__delete_commands] )) ||
_forge__workspace__help__delete_commands() {
    local commands; commands=()
    _describe -t commands 'forge workspace help delete commands' commands "$@"
}
(( $+functions[_forge__workspace__help__help_commands] )) ||
_forge__workspace__help__help_commands() {
    local commands; commands=()
    _describe -t commands 'forge workspace help help commands' commands "$@"
}
(( $+functions[_forge__workspace__help__info_commands] )) ||
_forge__workspace__help__info_commands() {
    local commands; commands=()
    _describe -t commands 'forge workspace help info commands' commands "$@"
}
(( $+functions[_forge__workspace__help__list_commands] )) ||
_forge__workspace__help__list_commands() {
    local commands; commands=()
    _describe -t commands 'forge workspace help list commands' commands "$@"
}
(( $+functions[_forge__workspace__help__query_commands] )) ||
_forge__workspace__help__query_commands() {
    local commands; commands=()
    _describe -t commands 'forge workspace help query commands' commands "$@"
}
(( $+functions[_forge__workspace__help__sync_commands] )) ||
_forge__workspace__help__sync_commands() {
    local commands; commands=()
    _describe -t commands 'forge workspace help sync commands' commands "$@"
}
(( $+functions[_forge__workspace__info_commands] )) ||
_forge__workspace__info_commands() {
    local commands; commands=()
    _describe -t commands 'forge workspace info commands' commands "$@"
}
(( $+functions[_forge__workspace__list_commands] )) ||
_forge__workspace__list_commands() {
    local commands; commands=()
    _describe -t commands 'forge workspace list commands' commands "$@"
}
(( $+functions[_forge__workspace__query_commands] )) ||
_forge__workspace__query_commands() {
    local commands; commands=()
    _describe -t commands 'forge workspace query commands' commands "$@"
}
(( $+functions[_forge__workspace__sync_commands] )) ||
_forge__workspace__sync_commands() {
    local commands; commands=()
    _describe -t commands 'forge workspace sync commands' commands "$@"
}
(( $+functions[_forge__zsh_commands] )) ||
_forge__zsh_commands() {
    local commands; commands=(
'plugin:Generate shell plugin script' \
'theme:Generate shell theme' \
'doctor:Run diagnostics on shell environment' \
'rprompt:Get rprompt information (model and conversation stats) for shell integration' \
'help:Print this message or the help of the given subcommand(s)' \
    )
    _describe -t commands 'forge zsh commands' commands "$@"
}
(( $+functions[_forge__zsh__doctor_commands] )) ||
_forge__zsh__doctor_commands() {
    local commands; commands=()
    _describe -t commands 'forge zsh doctor commands' commands "$@"
}
(( $+functions[_forge__zsh__help_commands] )) ||
_forge__zsh__help_commands() {
    local commands; commands=(
'plugin:Generate shell plugin script' \
'theme:Generate shell theme' \
'doctor:Run diagnostics on shell environment' \
'rprompt:Get rprompt information (model and conversation stats) for shell integration' \
'help:Print this message or the help of the given subcommand(s)' \
    )
    _describe -t commands 'forge zsh help commands' commands "$@"
}
(( $+functions[_forge__zsh__help__doctor_commands] )) ||
_forge__zsh__help__doctor_commands() {
    local commands; commands=()
    _describe -t commands 'forge zsh help doctor commands' commands "$@"
}
(( $+functions[_forge__zsh__help__help_commands] )) ||
_forge__zsh__help__help_commands() {
    local commands; commands=()
    _describe -t commands 'forge zsh help help commands' commands "$@"
}
(( $+functions[_forge__zsh__help__plugin_commands] )) ||
_forge__zsh__help__plugin_commands() {
    local commands; commands=()
    _describe -t commands 'forge zsh help plugin commands' commands "$@"
}
(( $+functions[_forge__zsh__help__rprompt_commands] )) ||
_forge__zsh__help__rprompt_commands() {
    local commands; commands=()
    _describe -t commands 'forge zsh help rprompt commands' commands "$@"
}
(( $+functions[_forge__zsh__help__theme_commands] )) ||
_forge__zsh__help__theme_commands() {
    local commands; commands=()
    _describe -t commands 'forge zsh help theme commands' commands "$@"
}
(( $+functions[_forge__zsh__plugin_commands] )) ||
_forge__zsh__plugin_commands() {
    local commands; commands=()
    _describe -t commands 'forge zsh plugin commands' commands "$@"
}
(( $+functions[_forge__zsh__rprompt_commands] )) ||
_forge__zsh__rprompt_commands() {
    local commands; commands=()
    _describe -t commands 'forge zsh rprompt commands' commands "$@"
}
(( $+functions[_forge__zsh__theme_commands] )) ||
_forge__zsh__theme_commands() {
    local commands; commands=()
    _describe -t commands 'forge zsh theme commands' commands "$@"
}

if [ "$funcstack[1]" = "_forge" ]; then
    _forge "$@"
else
    compdef _forge forge
fi

export _FORGE_PLUGIN_LOADED=$(date +%s)
